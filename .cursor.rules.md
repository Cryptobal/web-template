# ğŸ“˜ Biblia Cursor para la FÃ¡brica de Sitios Web

Este documento establece las reglas maestras que debe seguir Cursor (o cualquier desarrollador humano) al trabajar sobre cualquier proyecto generado desde la fÃ¡brica de sitios web.

---

## âœ… 1. Estructura Base del Repositorio

```
/public
  â””â”€â”€ images/            â†’ Todas las imÃ¡genes optimizadas (formato WebP o AVIF)
/content
  â””â”€â”€ blog_posts/        â†’ ArtÃ­culos en .md con metadata SEO
/src
  â””â”€â”€ components/         â†’ Componentes UI reutilizables
  â””â”€â”€ pages/              â†’ PÃ¡ginas del sitio (index.tsx, contacto.tsx, etc.)
  â””â”€â”€ styles/             â†’ Tailwind o CSS Modules
  â””â”€â”€ lib/                â†’ Utilidades (SEO, formularios, validaciones)
  â””â”€â”€ config/             â†’ Metadata global, site info, SEO por defecto
  â””â”€â”€ data/               â†’ NavegaciÃ³n, industrias, datos de apoyo en JSON
```

---

## âœ… 2. Reglas para la IA de Cursor

- âŒ No modificar archivos no relacionados al cambio solicitado.
- â™»ï¸ Reutilizar componentes existentes. No crear duplicados.
- ğŸ”’ Mantener nombres, rutas y estructura de carpetas.
- â“ Si se modifica un componente global, preguntar si se debe replicar el cambio.
- âœ‰ï¸ Al crear una pÃ¡gina nueva:
  - Actualizar `routes.json`
  - Agregar a `sitemap.xml`
  - Generar SEO dinÃ¡mico
- ğŸ–« Nunca sobreescribir archivos .md en `/blog_posts/`. Solo leerlos.

---

## âœ… 3. Reglas de Componentes UI/UX

- Usar **TailwindCSS** como base.
- Las animaciones deben ser suaves y accesibles.
- Todo botÃ³n debe tener:
  - Rol `button`
  - Texto visible o `aria-label` si es solo Ã­cono
- Todo formulario debe:
  - Validar campos requeridos
  - Lanzar evento GA4 o Tag Manager
  - Mostrar mensaje de confirmaciÃ³n clara

---

## âœ… 4. Reglas SEO y Metadata

- Cada pÃ¡gina debe tener:
  - `<title>` dinÃ¡mico
  - `<meta name="description">` desde config o .md
  - Etiquetas OG (`og:title`, `og:description`, `og:image`)
- `sitemap.xml` autogenerado desde `routes.json`
- `robots.txt` siempre actualizado con inclusiones/exclusiones

---

## âœ… 5. Seguridad y Performance

- RedirecciÃ³n forzada HTTP â†’ HTTPS
- Uso de componente `Image` (Next.js) o lazy loading manual
- Scripts de terceros con `async` o `defer`
- Lazy loading en imÃ¡genes, videos y componentes no crÃ­ticos
- ValidaciÃ³n de formularios en frontend y backend

---

## âœ… 6. Flujo de Modificaciones en Cursor

1. Verificar si el archivo o componente ya existe.
2. Preguntar si se debe modificar o duplicar.
3. Si se crea nueva pÃ¡gina:
   - Crear componente + ruta + SEO
   - Agregar a `routes.json` y `sitemap.xml`
4. Documentar cambios importantes en `CHANGELOG.md`

---

## âœ… 7. Checklist de Calidad Web (QA)

- Lighthouse score â‰¥ 90/100 en mÃ³vil
- Core Web Vitals:
  - LCP < 2.5s
  - CLS < 0.1
- Accesibilidad: score â‰¥ 90/100
- SEO: todas las rutas con `<title>`, `description`, `canonical`, `og:image`
- CTAs visibles, animaciones suaves, textos legibles

## ğŸ–¼ 8. Reglas para ImÃ¡genes y Cloudflare

- Todas las imÃ¡genes deben cargarse desde Cloudflare mediante URLs firmadas o pÃºblicas.
- No se deben guardar imÃ¡genes locales en `/public/images` si ya estÃ¡n en Cloudflare.
- Formato recomendado: WebP
- Las URLs deben estar centralizadas en un archivo JSON o TS: src/data/images.ts
- Se deben usar componentes personalizados (`<ImageCloudflare>`) para manejo de optimizaciÃ³n, tamaÃ±o y lazy loading.

## ğŸ“¸  9. Reglas para GestiÃ³n de ImÃ¡genes

- Todas las imÃ¡genes deben cargarse desde Cloudflare (no `/public/images`).
- Las URLs deben estar en `/src/config/images.ts`.
- Las referencias visuales y documentales estÃ¡n en `/docs/smd-[proyecto].md`.
- El componente recomendado para renderizar imÃ¡genes es `CloudflareImage.tsx`.
- No duplicar imÃ¡genes. Mantener siempre sincronizados `images.ts` y `smd-xxx.md`.

## ğŸ“® 10. Reglas para Formularios

- Todos los formularios deben ubicarse en: `/src/components/form/`
- Formulario de contacto: `ContactForm.tsx`
- Formulario de cotizaciÃ³n: `CotizarForm.tsx`
- Todos deben:
  - Validar campos requeridos
  - Lanzar eventos de conversiÃ³n (GA4 / Tag Manager)
  - Mostrar confirmaciÃ³n visual clara
- Se deben reutilizar estos formularios en las pÃ¡ginas `/contacto` y `/cotizar` respectivamente

---

Este documento es inmodificable salvo aprobaciÃ³n explÃ­cita de Carlos.
Es la regla base para que todos los proyectos derivados de la fÃ¡brica mantengan un estÃ¡ndar internacional de calidad.

ğŸš€ Ready for global launch.

